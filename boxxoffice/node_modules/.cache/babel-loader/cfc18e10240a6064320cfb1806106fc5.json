{"ast":null,"code":"import _regeneratorRuntime from\"D:/boXXoFFice/boxxoffice/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/boXXoFFice/boxxoffice/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/boXXoFFice/boxxoffice/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Footer from'./Footer';import ScrollToTop from'./GoUpBtn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APIURL=\"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";var IMGPATH=\"https://image.tmdb.org/t/p/w1280\";var SEARCHAPI=\"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";var TrendingMovies=function TrendingMovies(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResults=_useState6[0],setSearchResults=_useState6[1];useEffect(function(){// Initially get trending movies\ngetMovies(APIURL);},[]);function getMovies(_x){return _getMovies.apply(this,arguments);}function _getMovies(){_getMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(url){var resp,respData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url);case 2:resp=_context2.sent;_context2.next=5;return resp.json();case 5:respData=_context2.sent;console.log(respData);showMovies(respData.results);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _getMovies.apply(this,arguments);}function showMovies(movies){setMovies(movies);}function getClassByRate(vote){if(vote>=8){return\"green\";}else if(vote>=5){return\"orange\";}else{return\"red\";}}var handleSearchChange=function handleSearchChange(e){setSearch(e.target.value);};var handleRefreshClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var resp,respData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(search.trim()!==\"\")){_context.next=11;break;}_context.next=4;return fetch(SEARCHAPI+search);case 4:resp=_context.sent;_context.next=7;return resp.json();case 7:respData=_context.sent;setSearchResults(respData.results);_context.next=13;break;case 11:getMovies(APIURL);setSearchResults([]);case 13:case\"end\":return _context.stop();}}},_callee);}));return function handleRefreshClick(_x2){return _ref.apply(this,arguments);};}();var handleGoBack=function handleGoBack(){// Handle go back button click here (e.g., use React Router to navigate back)\n// For demonstration purposes, we'll just use window.history to go back\nwindow.history.back();};return/*#__PURE__*/_jsxs(\"div\",{className:\"trending-movie-cards\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"trending-header\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"trending-movies\",children:\"Trending Movies\"}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:handleGoBack,children:\"Go Back\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRefreshClick,className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"search\",placeholder:\"Search\",value:search,onChange:handleSearchChange,className:\"search\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"refresh-button\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"trending-content\",children:search.trim()!==\"\"?searchResults.map(function(movie){var id=movie.id,poster_path=movie.poster_path,title=movie.title,vote_average=movie.vote_average,overview=movie.overview;return/*#__PURE__*/_jsxs(\"div\",{className:\"trending-moviee\",children:[/*#__PURE__*/_jsx(\"img\",{src:IMGPATH+poster_path,alt:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-movie-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsx(\"span\",{className:getClassByRate(vote_average),children:vote_average})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-overview\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overview:\"}),overview]})]},id);}):movies.map(function(movie){var id=movie.id,poster_path=movie.poster_path,title=movie.title,vote_average=movie.vote_average,overview=movie.overview;return/*#__PURE__*/_jsxs(\"div\",{className:\"trending-moviee\",children:[/*#__PURE__*/_jsx(\"img\",{src:IMGPATH+poster_path,alt:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-movie-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsx(\"span\",{className:getClassByRate(vote_average),children:vote_average})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-overview\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Overview:\"}),overview]})]},id);})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(ScrollToTop,{})]});};export default TrendingMovies;","map":{"version":3,"names":["React","useEffect","useState","Footer","ScrollToTop","APIURL","IMGPATH","SEARCHAPI","TrendingMovies","movies","setMovies","search","setSearch","searchResults","setSearchResults","getMovies","url","fetch","resp","json","respData","console","log","showMovies","results","getClassByRate","vote","handleSearchChange","e","target","value","handleRefreshClick","preventDefault","trim","handleGoBack","window","history","back","map","movie","id","poster_path","title","vote_average","overview"],"sources":["D:/boXXoFFice/boxxoffice/src/component/TrendingMovies.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from './Footer';\r\nimport ScrollToTop from './GoUpBtn';\r\n\r\nconst APIURL = \"https://api.themoviedb.org/3/discover/movie?api_key=04c35731a5ee918f014970082a0088b1\";\r\nconst IMGPATH = \"https://image.tmdb.org/t/p/w1280\";\r\nconst SEARCHAPI =\r\n  \"https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query=\";\r\n\r\nconst TrendingMovies = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Initially get trending movies\r\n    getMovies(APIURL);\r\n  }, []);\r\n\r\n  async function getMovies(url) {\r\n    const resp = await fetch(url);\r\n    const respData = await resp.json();\r\n\r\n    console.log(respData);\r\n\r\n    showMovies(respData.results);\r\n  }\r\n\r\n  function showMovies(movies) {\r\n    setMovies(movies);\r\n  }\r\n\r\n  function getClassByRate(vote) {\r\n    if (vote >= 8) {\r\n      return \"green\";\r\n    } else if (vote >= 5) {\r\n      return \"orange\";\r\n    } else {\r\n      return \"red\";\r\n    }\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const handleRefreshClick = async (e) => {\r\n    e.preventDefault();\r\n    if (search.trim() !== \"\") {\r\n      const resp = await fetch(SEARCHAPI + search);\r\n      const respData = await resp.json();\r\n      setSearchResults(respData.results);\r\n    } else {\r\n      getMovies(APIURL);\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  const handleGoBack = () => {\r\n    // Handle go back button click here (e.g., use React Router to navigate back)\r\n    // For demonstration purposes, we'll just use window.history to go back\r\n    window.history.back();\r\n  };\r\n\r\n  return (\r\n    <div className=\"trending-movie-cards\">\r\n      <header className=\"trending-header\">\r\n        <p className=\"trending-movies\">Trending Movies</p>\r\n        <button className=\"back-button\" onClick={handleGoBack}>\r\n          Go Back\r\n        </button>\r\n      </header>\r\n      <div className=\"search-form\">\r\n        <form onSubmit={handleRefreshClick} className=\"form\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"search\"\r\n            placeholder=\"Search\"\r\n            value={search}\r\n            onChange={handleSearchChange}\r\n            className=\"search\"\r\n          />\r\n          <button type=\"submit\" className=\"refresh-button\">\r\n            Search\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <div className=\"trending-content\">\r\n        {search.trim() !== \"\" ? (\r\n          searchResults.map((movie) => {\r\n            const { id, poster_path, title, vote_average, overview } = movie;\r\n\r\n            return (\r\n              <div key={id} className=\"trending-moviee\">\r\n                <img src={IMGPATH + poster_path} alt={title} />\r\n                <div className=\"trending-movie-info\">\r\n                  <h3>{title}</h3>\r\n                  <span className={getClassByRate(vote_average)}>\r\n                    {vote_average}\r\n                  </span>\r\n                </div>\r\n                <div className=\"trending-overview\">\r\n                  <h3>Overview:</h3>\r\n                  {overview}\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          movies.map((movie) => {\r\n            const { id, poster_path, title, vote_average, overview } = movie;\r\n\r\n            return (\r\n              <div key={id} className=\"trending-moviee\">\r\n                <img src={IMGPATH + poster_path} alt={title} />\r\n                <div className=\"trending-movie-info\">\r\n                  <h3>{title}</h3>\r\n                  <span className={getClassByRate(vote_average)}>\r\n                    {vote_average}\r\n                  </span>\r\n                </div>\r\n                <div className=\"trending-overview\">\r\n                  <h3>Overview:</h3>\r\n                  {overview}\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n      <Footer />\r\n      <ScrollToTop/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrendingMovies;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}